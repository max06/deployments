applications:
  argocd:
    namespace: argocd
    project: default
    additionalLabels:
      argocd.argoproj.io/instance: argocd
    sources:
      - repoURL: https://argoproj.github.io/argo-helm
        targetRevision: 7.7.22 # For Helm, this refers to the chart version.
        chart: argo-cd # Set this when pulling directly from a Helm repo. DO NOT set for git-hosted Helm charts.
        helm:
          valueFiles:
            - $values/clusters/cyrannus/helios/apps/argocd/values.yaml
      - repoURL: https://argoproj.github.io/argo-helm
        targetRevision: 2.0.2
        chart: argocd-apps
        helm:
          valueFiles:
            - $values/root-app.yaml
      - repoURL: https://github.com/max06/deployments
        targetRevision: main
        ref: values
    # Destination cluster and namespace to deploy the application
    destination:
      name: in-cluster
      # The namespace will only be set for namespace-scoped resources that have not set a value for .metadata.namespace
      namespace: argocd

    revisionHistoryLimit: 10
#  guestbook:
#    namespace: argocd
#    additionalLabels: {}
#    additionalAnnotations: {}
#    finalizers:
#    - resources-finalizer.argocd.argoproj.io
#    project: guestbook
#    source:
#      repoURL: https://github.com/argoproj/argocd-example-apps.git
#      targetRevision: HEAD
#      path: guestbook
#      directory:
#        recurse: true
#    # ArgoCD v2.6 or later
#    sources:
#    - chart: elasticsearch
#      repoURL: https://helm.elastic.co
#      targetRevision: 8.5.1
#    - repoURL: https://github.com/argoproj/argocd-example-apps.git
#      path: guestbook
#      targetRevision: HEAD
#    destination:
#      server: https://kubernetes.default.svc
#      namespace: guestbook
#    syncPolicy:
#      automated:
#        prune: false
#        selfHeal: false
#      syncOptions:
#      - CreateNamespace=true
#    revisionHistoryLimit: null
#    ignoreDifferences:
#    - group: apps
#      kind: Deployment
#      jsonPointers:
#      - /spec/replicas
#    info:
#    - name: url
#      value: https://argoproj.github.io/
